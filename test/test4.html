<html>
  <head>
    <title>Test Outline Display</title>

    <link rel="stylesheet" type="text/css" href="/js/css/flick/jquery-ui-1.8.18.custom.css"/>
    <style type="text/css">
      SECTION.preview {
        min-height: 550px; }
      SECTION.preview DIV.view {
        float: left;
        margin-right: 10px; }
      SECTION.preview CANVAS {
        border: 1px solid black;
        display: block; }
      SECTION.preview DIV.zoom {
        float: right;
        text-align: right;
        vertical-align: top; }
      SECTION.preview DIV.zoom SPAN {
        vertical-align: top; }
      SECTION.preview DIV.controls {
        overflow: hidden; }
      SECTION.preview HR {
        margin-bottom: 25px; }
      SECTION.preview DIV.controls SPAN.cost {
        display: block;
        font-size: 1.5em; }
      SECTION.preview DIV.controls SPAN.area {
        display: block;
        font-size: 0.75em; }
      SECTION.preview DIV.dimensions SPAN {
        display: block;
        margin-top: 1em; }
    </style>

    <style>
      #tabs { margin-top: 1em; }
      #tabs li .ui-icon-close { float: left; margin: 0.4em 0.2em 0 0; cursor: pointer; }
      #add_tab { cursor: pointer; }
    </style>

    <script type="text/javascript" src="/js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui-1.8.18.custom.min.js"></script>
    <script type="text/javascript" src="mirror.js"></script>
    <script type="text/javascript" src="outline.js"></script>
  </head>
  <body>
    <div>
      <button id="add_tab">New...</button>
      <div id="tabs">
        <ul>
          <li><a href="#tabs-1">Rectangle</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
        </ul>
        <div id="tabs-1">
          <section class="preview">
            <div class="view">
              <canvas width="500" height="500">
                Canvas element not supported.
              </canvas>

              <div class="zoom">
                Zoom: <input type="range" min="0" max="5" value="5"/> <span>5</span>
              </div>
              <input class="aspect" type="checkbox" value="lock"/> Lock Aspect Ratio
            </div>

            <div class="controls">
              <input type="text" class="title" size="20"/>
              <select>
                <option value="circle">Circle</options>
                <option value="ellipse">Oval</option>
                <option value="rectangle">Rectangle</option>
                <option value="square">Square</options>
                <option value="diamond">Diamond</options>
                <option value="cathedral">Cathedral</options>
                <option value="gothic">Gothic</options>
                <option value="vesica">Vesica</options>
              </select>

              <hr/>

              <span class="cost">Cost: <span>0</span></span>
              <span class="area">Area: <span>0</span></span>

              <div class="dimensions">
                <span>Outside:</span>
                <input type="text" class="width" size="8"/> &times; <input type="text" class="height" size="8"/>

                <span>Inside:</span>
                <input type="text" class="iwidth" size="8"/> &times; <input type="text" class="iheight" size="8"/>

                <span>Border:</span>
                <input type="text" class="border" size="8"/> <input type="button" value="Make Uniform"/>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <script>
      $(function() {
        var tab_counter = 1;

        // tabs init with a custom tab template and an "add" callback filling in the content
        var $tabs = $("#tabs").tabs({
          tabTemplate: "<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close'>Remove Tab</span></li>",
          add: function( event, ui ) {
//            var tab_content = "Tab " + tab_counter + " content.";
//            $(ui.panel).append( "<p>" + tab_content + "</p>" );
            $(ui.panel).load( "tabcontent.html" );
          }
        });

        $("#add_tab").button().click( function() {
          var tab_title = "Tab " + tab_counter;

          $tabs.tabs( "add", "#tabs-" + tab_counter, tab_title ).find( ".ui-tabs-nav" ).sortable( {axis: "x"} );
          new ShapeVis( $("#tabs-" + tab_counter) );
          tab_counter++;
        });

        // close icon: removing the tab on click
        $("#tabs span.ui-icon-close").live( "click", function() {
          var index = $("li", $tabs).index( $(this).parent() );
          $tabs.tabs( "remove", index );
        });
      });
    </script>
  </body>
</html>
